# Test Center - Compliance Testing Application (Metadata Service)
# Copyright (C) 2012-2014 Paulo Ferreira <pf at sourcenotes.org>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as
# published by the Free Software Foundation, either version 3 of the
# License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

##
# Play Service Definitions
##
play:
  #
  # Defaults for Play List Base Services
  #
  base:
    inherit: default
    service: [ 'testing', 'play' ]
  #
  # Defaults for Play List Test Services
  #
  test:
    inherit: default
    service: [ 'testing', 'play', 'test' ]
  #
  # Defaults for Play List Tests Services
  #
  tests:
    inherit: default
    service: [ 'testing', 'play', 'tests' ]
  #
  # Defaults for Play List Step Services
  #
  step:
    inherit: default
    service: [ 'testing', 'play', 'step' ]
  #
  # Defaults for Play List Steps Services
  #
  steps:
    inherit: default
    service: [ 'testing', 'play', 'steps' ]
  #
  # Moves the Play List Backwards, or to the Specific Sequence Number
  # URL :
  # - testing/play/previous[/{virtual:sequence}]
  #
  previous:
    inherit: 'play:base'
    action: previous
    key: 
      - 'virtual:sequence' : ~
  #
  # Get Current Play Entry for Run
  # URL :
  # - testing/play/current
  #
  current:
    inherit: 'play:base'
    action: current
  #
  # Moves the Play List Forward, or to the Specific Sequence Number
  # URL :
  # - testing/play/next[/{virtual:sequence}]
  #
  next:
    inherit: 'play:base'
    action: next
    key: 
      - 'virtual:sequence' : ~
  #
  # Gets the Run State for the Current Play Entry
  # URL :
  # - testing/play/state/get
  #
  get_state:
    inherit: 'play:base'
    service: [ 'testing', 'play', 'state' ]
    action: get
  #
  # Set the Run State for the Current Play Entry
  # URL :
  # - testing/play/state/set/{playlist:state}[/{playlist:state_code}]
  #
  set_state:
    inherit: 'play:get_state'
    action: set
    key: 
      - 'playlist:state' 
      - 'playlist:state_code' : 0
  #
  # Moves the Play List Cursor to the Start of the Previous Test in the Play List
  # URL :
  # - testing/play/test/previous
  #
  test_previous:
    inherit: 'play:test'
    action: previous
  #
  # Get Current Test for the Play List
  # URL :
  # - testing/play/test/current
  #
  test_current:
    inherit: 'play:test'
    action: current
  #
  # Moves the Play List Cursor to the Start of the Next Test in the Play List
  # URL :
  # - testing/play/test/next[/{virtual:sequence}]
  #
  test_next:
    inherit: 'play:test'
    action: next
  #
  # Moves the Play List Cursor to Previous Step in the Current Test 
  # (will fail is an attempt is made to move the cursor outside of the current test)
  # URL :
  # - testing/play/step/previous
  #
  step_previous:
    inherit: 'play:test'
    action: previous
  #
  # Get Current Play List Entry
  # URL :
  # - testing/play/current
  #
  step_current:
    inherit: 'play:base'
    action: current
  #
  # Moves the Play List Cursor to Next Step in the Current Test 
  # (will fail is an attempt is made to move the cursor outside of the current test)
  # URL :
  # - testing/play/step/previous
  #
  step_next:
    inherit: 'play:test'
    action: next
  #
  # List the Tests for the Current Play Entry
  # URL :
  # - testing/play/tests/list
  #
  tests_list:
    inherit: 'play:tests'
    action: list
  #
  # Counts the Tests for the Current Play Entry
  # URL :
  # - testing/play/tests/count
  #
  tests_count:
    inherit: 'play:tests'
    action: count
  #
  # List the Steps for the Current Active Test of the Current Play Entry
  # URL :
  # - testing/play/steps/list
  #
  steps_list:
    inherit: 'play:steps'
    action: list
  #
  # Count the Steps for the Current Active Test of the Current Play Entry
  # URL :
  # - testing/play/steps/count
  #
  steps_count:
    inherit: 'play:steps'
    action: count
